{"version":3,"file":"static/js/899.0d71285d.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://goit-react-hw-05-movies/./src/components/MoviesSearch/MoviesSearchForm/search-form.module.css?6140","components/MoviesSearch/MoviesSearchForm/MoviesSearchForm.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesSearch/MoviesSearchList/movies-search-list.module.css?4793","components/MoviesSearch/MoviesSearchList/MoviesSearchList.jsx","components/MoviesSearch/MoviesSearch.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"search-form_searchForm__Fo5El\",\"button\":\"search-form_button__Uoeep\",\"input\":\"search-form_input__1AuXt\"};","import { useState, memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from './search-form.module.css'\n\nconst MoviesSearchForm = ({onSubmit}) => {\n    const [search, setSearch] = useState('')\n    console.log('zalupa')\n    const getInputValue = (event) => {\n        const {value} = event.target;\n        setSearch(value)\n    }\n    \n      const handleSubmit = (event) => {\n        event.preventDefault();\n        onSubmit(search);\n        setSearch('')\n    }\n\n    return (\n        <form className={styles.searchForm} onSubmit={handleSubmit}>\n            <input className={styles.input} name=\"search\" type=\"text\" value={search} onChange={getInputValue} required placeholder=\"Search movies\"/>\n            <button className={styles.button} type=\"submit\"></button>\n        </form>\n    )\n}\n\nexport default memo(MoviesSearchForm);\n\nMoviesSearchForm.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n}","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"movies-search-list_section__9YW53\",\"item\":\"movies-search-list_item__EvUQV\",\"link\":\"movies-search-list_link__wFJXU\",\"gallery\":\"movies-search-list_gallery__AsSE5\",\"itemImage\":\"movies-search-list_itemImage__UxU4S\"};","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './movies-search-list.module.css';\n\nconst MoviesSearchList = ({ movies, location }) => {\n  const moviesList = movies.map(movie => (\n    <li className={styles.item} key={movie.id}>\n      <Link className={styles.link} to={`/movies/${movie.id}`} state={{from: location}}>\n        <div>\n          <img\n            className={styles.itemImage}\n            src={movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : 'https://picsum.photos/200/300'}\n            alt=\"\"\n          />\n          <p>{movie.title ?? movie.name}</p>\n        </div>\n      </Link>\n    </li>\n  ));\n\n  return (\n    <div className={styles.section}>\n      <ul className={styles.gallery}>{moviesList}</ul>\n    </div>\n  );\n};\n\nMoviesSearchList.propTypes = {\n    movies: PropTypes.arrayOf(PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        poster_path: PropTypes.string,\n        title: PropTypes.string,\n        name: PropTypes.string,\n    })).isRequired,\n    location: PropTypes.object.isRequired\n}\n\nexport default MoviesSearchList;\n\n\n","import { useState, useEffect, useCallback } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { getMoviesBySearch } from '../../shared/services/movies';\nimport MoviesSearchForm from './MoviesSearchForm';\nimport MoviesSearchList from './MoviesSearchList';\n\nconst MoviesSearch = () => {\n  const [data, setData] = useState({\n    films: [],\n    loading: false,\n    error: null\n  });\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const searchQuery = searchParams.get('query');\n\n  const location = useLocation()\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return\n    }\n    const fetchMovies = async () => {\n      try {\n        setData(prevData => ({\n          ...prevData,\n          loading: true,\n        }))\n        const { results } = await getMoviesBySearch(searchQuery);\n        setData({\n          films: [...results],\n          loading: false,\n          error: null,\n        });\n      } catch (err) {\n        setData({\n          films: [],\n          loading: false,\n          error: err\n        })\n      }\n    };\n\n    fetchMovies();\n  }, [searchQuery]);\n\n  const handleSubmit = useCallback(query => setSearchParams({ query, page: 1 }), [setSearchParams]);\n\n  return (\n    <>\n      <MoviesSearchForm onSubmit={handleSubmit} />\n      {data.loading && <p>Идёт поиск</p>}\n      {data.error && !data.loading && <p>Ошибка поиска</p>}\n      {searchQuery && Boolean(data.films.length) && !data.loading && <MoviesSearchList movies={data.films} location={location}/>}\n      {searchQuery && !Boolean(data.films.length) && !data.loading && !data.error && <p>По запросу {searchQuery} ничего не найдено</p>}\n    </>\n  );\n};\n\nexport default MoviesSearch;\n","import MoviesSearch from \"../../components/MoviesSearch\";\n\nconst MoviesPage = () => {\n    return(\n        <>\n        <MoviesSearch />\n        </>\n    )\n}\n\nexport default MoviesPage;"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","MoviesSearchForm","onSubmit","useState","search","setSearch","console","log","className","styles","event","preventDefault","name","type","onChange","required","placeholder","memo","movies","location","moviesList","map","movie","to","id","state","src","poster_path","alt","title","films","loading","error","data","setData","useSearchParams","searchParams","setSearchParams","searchQuery","get","useLocation","useEffect","fetchMovies","prevData","getMoviesBySearch","results","handleSubmit","useCallback","query","page","Boolean"],"sourceRoot":""}