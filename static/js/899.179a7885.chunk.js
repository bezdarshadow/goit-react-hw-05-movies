"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[899],{2899:function(e,r,t){t.r(r),t.d(r,{default:function(){return U}});var n=t(907);var o=t(181);function i(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l=t(5861),u=t(885),m=t(7757),f=t.n(m),p=t(2791),h=t(501),d=t(6871),v=t(6188),b="search-form_searchForm__Fo5El",_="search-form_button__Uoeep",g="search-form_input__1AuXt",j=t(184),y=function(e){var r=e.onSubmit,t=(0,p.useState)(""),n=(0,u.Z)(t,2),o=n[0],i=n[1];return(0,j.jsxs)("form",{className:b,onSubmit:function(e){e.preventDefault(),r(o),i("")},children:[(0,j.jsx)("input",{className:g,name:"search",type:"text",value:o,onChange:function(e){var r=e.target.value;i(r)},required:!0,placeholder:"Search movies"}),(0,j.jsx)("button",{className:_,type:"submit"})]})},x=(0,p.memo)(y),O="movies-search-list_section__9YW53",w="movies-search-list_item__EvUQV",S="movies-search-list_link__wFJXU",k="movies-search-list_gallery__AsSE5",P="movies-search-list_itemImage__UxU4S",N=function(e){var r=e.movies,t=e.location,n=r.map((function(e){var r;return(0,j.jsx)("li",{className:w,children:(0,j.jsx)(h.rU,{className:S,to:"/movies/".concat(e.id),state:{from:t},children:(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{className:P,src:e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://picsum.photos/200/300",alt:""}),(0,j.jsx)("p",{children:null!==(r=e.title)&&void 0!==r?r:e.name})]})})},e.id)}));return(0,j.jsx)("div",{className:O,children:(0,j.jsx)("ul",{className:k,children:n})})},E=function(){var e=(0,p.useState)({films:[],loading:!1,error:null}),r=(0,u.Z)(e,2),t=r[0],n=r[1],o=(0,h.lr)(),a=(0,u.Z)(o,2),s=a[0],m=a[1],b=s.get("query"),_=(0,d.TH)();(0,p.useEffect)((function(){if(b){var e=function(){var e=(0,l.Z)(f().mark((function e(){var r,t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n((function(e){return c(c({},e),{},{loading:!0})})),e.next=4,(0,v.zi)(b);case 4:r=e.sent,t=r.results,n({films:i(t),loading:!1,error:null}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({films:[],loading:!1,error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}}),[b]);var g=(0,p.useCallback)((function(e){return m({query:e,page:1})}),[m]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x,{onSubmit:g}),t.loading&&(0,j.jsx)("p",{children:"\u0418\u0434\u0451\u0442 \u043f\u043e\u0438\u0441\u043a"}),t.error&&!t.loading&&(0,j.jsx)("p",{children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"}),b&&Boolean(t.films.length)&&!t.loading&&(0,j.jsx)(N,{movies:t.films,location:_}),b&&!Boolean(t.films.length)&&!t.loading&&!t.error&&(0,j.jsxs)("p",{children:["\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ",b," \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"]})]})},U=function(){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(E,{})})}}}]);
//# sourceMappingURL=899.179a7885.chunk.js.map