{"version":3,"file":"static/js/903.f9c1c255.chunk.js","mappings":"+QACA,GAAgB,KAAO,+BAA+B,MAAQ,gCAAgC,UAAY,oCAAoC,MAAQ,gCAAgC,KAAO,+BAA+B,KAAO,+BAA+B,KAAO,+BAA+B,OAAS,iCAAiC,cAAgB,yC,SCwFlW,EAnFuB,WAAO,IAAD,IAC3B,GAAwBA,EAAAA,EAAAA,UAAS,CAC/BC,KAAM,KACNC,SAAS,EACTC,MAAO,OAHT,eAAOF,EAAP,KAAaG,EAAb,KAKQC,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACjBC,QAAQC,IAAIH,GACZ,IAAMI,GAAO,UAAAJ,EAASK,aAAT,eAAgBD,OAAQ,IACrCF,QAAQC,IAAIC,IACZE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,oGAEdZ,GAAQ,SAAAa,GAAQ,yBACXA,GADW,IAEdf,SAAS,OAJG,UAMKgB,EAAAA,EAAAA,IAAab,GANlB,OAMRc,EANQ,OAOdf,EAAQ,CACNH,MAAK,UAAKkB,GACVjB,SAAS,EACTC,MAAO,OAVK,gDAadC,EAAQ,CACNH,KAAM,KACNC,SAAS,EACTC,MAAM,EAAD,KAhBO,yDAAH,qDAqBfa,MACC,CAACX,IACJ,IAAMe,EAAM,UAAGnB,EAAKA,YAAR,aAAG,EAAWmB,OAAOC,KAAI,SAAAC,GAAK,OAAIA,EAAMC,QAAMC,KAAK,MAI/D,OACE,gCACGvB,EAAKC,UAAW,mFAChBD,EAAKE,QAAUF,EAAKC,UAAW,qGAC/BD,EAAKA,OAASA,EAAKC,UAAYD,EAAKE,QACnC,iCACA,iBAAKsB,UAAWC,EAAAA,KAAhB,WACE,gBAAKD,UAAWC,EAAAA,WAAhB,UACA,gBACED,UAAWC,EAAAA,MACXC,IAAK1B,EAAKA,KAAK2B,YAAV,yCAA0D3B,EAAKA,KAAK2B,aAAgB,gCACzFC,IAAI,QAGN,iBAAKJ,UAAWC,EAAAA,UAAhB,WACA,eAAID,UAAWC,EAAAA,MAAf,SAA8BzB,EAAKA,KAAK6B,SACxC,eAAGL,UAAWC,EAAAA,KAAd,mBAAkCzB,EAAKA,KAAK8B,iBAC5C,eAAGN,UAAWC,EAAAA,KAAd,yBAAwCzB,EAAKA,KAAK+B,eAClD,eAAGP,UAAWC,EAAAA,KAAd,qBAAoCN,MACpC,eAAIK,UAAWC,EAAAA,MAAf,uBACA,cAAGD,UAAWC,EAAAA,KAAd,SAA4BzB,EAAKA,KAAKgC,kBAG1C,gBAAKR,UAAWC,EAAAA,cAAhB,UACA,mBAAQD,UAAWC,EAAAA,OAAeQ,QA1BvB,kBAAK3B,EAASM,IA0B0BsB,KAAK,SAAxD,qCAIA,gBAAIV,UAAWC,EAAAA,KAAf,WACE,yBACE,SAAC,KAAD,CAAMD,UAAWC,EAAAA,KAAaU,GAAE,kBAAa/B,EAAb,SAA6BS,MAAO,CAACD,KAAMA,GAA3E,qBAEF,yBACE,SAAC,KAAD,CAAMY,UAAWC,EAAAA,KAAaU,GAAE,kBAAa/B,EAAb,YAAgCS,MAAO,CAACD,KAAMA,GAA9E,iCCpEV,EATyB,WACrB,OACI,iCACA,SAAC,EAAD,KACA,SAAC,KAAD","sources":["webpack://goit-react-hw-05-movies/./src/components/InfoAboutMovie/info-about-movie.module.css?9f2e","components/InfoAboutMovie/InfoAboutMovie.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"card\":\"info-about-movie_card__5fMUn\",\"image\":\"info-about-movie_image__bm416\",\"movieInfo\":\"info-about-movie_movieInfo__nIVno\",\"title\":\"info-about-movie_title__I0ISB\",\"text\":\"info-about-movie_text__U6ZB5\",\"menu\":\"info-about-movie_menu__iHyXd\",\"link\":\"info-about-movie_link__Zv3lg\",\"button\":\"info-about-movie_button__x0Qg5\",\"buttonWrapper\":\"info-about-movie_buttonWrapper__5OUhd\"};","import { useEffect, useState } from 'react';\nimport { getMovieById } from '../../shared/services/movies';\nimport { useParams, Link, useNavigate, useLocation } from 'react-router-dom';\n\nimport styles from './info-about-movie.module.css'\n\nconst InfoAboutMovie = () => {\n  const [info, setInfo] = useState({\n    info: null,\n    loading: false,\n    error: null\n  });\n  const { movieId } = useParams();\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  console.log(location)\n  const from = location.state?.from || \"/\";\n  console.log(from)\n  useEffect(() => {\n    const fetchInfo = async () => {\n      try {\n        setInfo(prevData => ({\n          ...prevData,\n          loading: true,\n        }))\n        const data = await getMovieById(movieId);\n        setInfo({\n          info: {...data},\n          loading: false,\n          error: null\n        });\n      } catch (err) {\n        setInfo({\n          info: null,\n          loading: false,\n          error: err\n        })\n      }\n    };\n\n    fetchInfo();\n  }, [movieId]);\n  const genres = info.info?.genres.map(genre => genre.name).join(', ')\n\n  const goBack = ()=> navigate(from)\n\n  return (\n    <>\n      {info.loading && <p>Идёт поиск</p>}\n      {info.error && !info.loading && <p>Ошибка поиска</p>}\n      {info.info && !info.loading && !info.error && (\n        <>\n        <div className={styles.card}>\n          <div className={styles.movieImage}>\n          <img\n            className={styles.image}\n            src={info.info.poster_path ? `https://image.tmdb.org/t/p/w500${info.info.poster_path}` : 'https://picsum.photos/200/300'}\n            alt=\"\"\n          />\n          </div>\n          <div className={styles.movieInfo}>\n          <h2 className={styles.title}>{info.info.title}</h2>\n          <p className={styles.text}>Vote: {info.info.vote_average}</p>\n          <p className={styles.text}>Popularity: {info.info.popularity}</p>\n          <p className={styles.text}>Genres: {genres}</p>\n          <h2 className={styles.title} >Overview</h2>\n          <p className={styles.text}>{info.info.overview}</p>\n          </div>\n        </div>\n      <div className={styles.buttonWrapper}>\n      <button className={styles.button} onClick={goBack} type='button'>Snap back to reality</button> \n\n      </div>\n\n      <ul className={styles.menu}>\n        <li>\n          <Link className={styles.link} to={`/movies/${movieId}/cast`} state={{from: from}}>Cast</Link>\n        </li>\n        <li>\n          <Link className={styles.link} to={`/movies/${movieId}/reviews`} state={{from: from}}>Reviews</Link>\n        </li>\n      </ul>\n      </>\n      )}\n    </>\n  );\n};\n\nexport default InfoAboutMovie;\n","import { Outlet } from 'react-router-dom';\nimport InfoAboutMovie from \"../../components/InfoAboutMovie\";\n\nconst MovieDetailsPage = () => {\n    return(\n        <>\n        <InfoAboutMovie />\n        <Outlet/>\n        </>\n    )\n}\n\nexport default MovieDetailsPage;"],"names":["useState","info","loading","error","setInfo","movieId","useParams","navigate","useNavigate","location","useLocation","console","log","from","state","useEffect","fetchInfo","prevData","getMovieById","data","genres","map","genre","name","join","className","styles","src","poster_path","alt","title","vote_average","popularity","overview","onClick","type","to"],"sourceRoot":""}